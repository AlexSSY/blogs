{% from "macros/form_fields.html" import render_field %}

<form action="{{ url_for('signup_page') }}" method="post">
  <input type="hidden" name="csrf_token" value="{{ csrf_token(request) }}" />
  
  <div class="mb-3">
    <label class="form-label" for="email">Email</label>
    <input class="form-control{{ ' is-invalid' if form_errors.email else '' }}" id="email" type="text" name="email" value="{{ request.state.form.email if request.state.form else '' }}" />
    {% if form_errors.email %}
    <div class="invalid-feedback">{{ form_errors.email[0] }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label" for="password">Password</label>
    <input class="form-control{{ ' is-invalid' if form_errors.password else '' }}" id="password" type="password" name="password" value="" />
    {% if form_errors.password %}
    <div class="invalid-feedback">{{ form_errors.password[0] }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label" for="password_confirmation">Password confirmation</label>
    <input class="form-control{{ ' is-invalid' if form_errors.password_confirmation else '' }}" id="password_confirmation" type="password" name="password_confirmation" value="" />
    {% if form_errors.password_confirmation %}
    <div class="invalid-feedback">{{ form_errors.password_confirmation[0] }}</div>
    {% endif %}
  </div>

  <button type="submit" class="btn btn-primary">Sign Up</button>
  
  <div class="mt-3">
    <p class="text-center">Already have an account? <a href="{{ url_for('signin_page') }}">Sign In</a></p>
  </div>
</form>